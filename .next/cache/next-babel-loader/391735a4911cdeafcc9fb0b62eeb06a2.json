{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n//import { TextStyle } from '@shopify/polaris'\nimport { TextStyle, Page, Layout, EmptyState, FooterHelp, Link, Card, Stack, Button, Spinner } from '@shopify/polaris';\nimport { TitleBar, ResourcePicker } from '@shopify/app-bridge-react';\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nconst img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\n\nconst Index = ({\n  shop_is_loading,\n  shop_exists,\n  shop_status,\n  getShopifyData,\n  reviewVariants\n}) => {\n  //Se ejecuta 1 sola vez al montarse el componente\n  useEffect(() => {\n    getShopifyData();\n  }, []);\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n  const router = useRouter();\n\n  const handleSelection = resources => {\n    setOpen(false);\n    let payload = [];\n    resources.selection.forEach(product => {\n      const {\n        id: product_id,\n        title: product_title,\n        images,\n        vendor\n      } = product;\n      const variants = product.variants.map(variant => {\n        const {\n          id: variant_id,\n          title: variant_title,\n          weight: variant_weight,\n          weightUnit: variant_unit,\n          price: variant_price\n        } = variant;\n        return {\n          product_id,\n          product_title,\n          product_image: images.length > 0 ? images[0].originalSrc : undefined,\n          vendor,\n          variant_id,\n          variant_title,\n          variant_weight,\n          variant_unit,\n          variant_price,\n          variant_recommended_price: 0,\n          tax: 0,\n          status: 'Calculando'\n        };\n      });\n      payload = [...payload, ...variants];\n    });\n    console.log('payload', payload);\n    reviewVariants({\n      variants: payload\n    });\n    console.log(resources);\n  };\n\n  let accionBotones = __jsx(Spinner, {\n    accessibilityLabel: \"Spinner example\",\n    size: \"large\",\n    color: \"teal\"\n  }); //if(!shopify_is_loading)\n\n\n  if (shop_is_loading === false) {\n    accionBotones = __jsx(Card, {\n      sectioned: true\n    }, __jsx(Button, {\n      fullWidth: true\n      /*url={'/registro'}*/\n      ,\n      onClick: () => router.push('/registro'),\n      disabled: shop_exists === true\n    }, \"Registro\"), __jsx(Button, {\n      fullWidth: true,\n      onClick: () => setOpen(true),\n      disabled: shop_exists === false || shop_status === 'en_revision'\n    }, \"Enviar productos a revisi\\xF3n\"));\n  }\n\n  return __jsx(Page, {\n    fullWidth: true\n  }, __jsx(TitleBar, {\n    primaryAction: {\n      content: 'Hola soy un primary ---'\n    }\n  }), __jsx(ResourcePicker, {\n    resourceType: \"Product\",\n    showVariants: false,\n    open: open,\n    onSelection: handleSelection,\n    onCancel: () => setOpen(false)\n  }), __jsx(Layout, null, __jsx(Layout.Section, null, __jsx(Card, {\n    title: \"Home\",\n    sectioned: true\n  }, __jsx(Stack, null, __jsx(\"p\", null, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eleifend metus non vestibulum faucibus. Duis interdum vel arcu imperdiet tempus. Mauris nec suscipit nisi. Sed malesuada vehicula diam, sit amet ornare libero rutrum nec. Nam ultricies aliquet mi id mattis. Proin iaculis sem mi, id elementum felis facilisis id. Mauris semper, quam non hendrerit sollicitudin, diam diam lacinia ante, a elementum eros ipsum non nulla. Nullam et lacus in dui ultrices ullamcorper. Vivamus consequat tortor eu risus mattis, imperdiet iaculis arcu porta. Nulla neque velit, ullamcorper vel imperdiet non, volutpat a orci. Suspendisse purus dolor, vestibulum et orci eget, convallis tincidunt nisi. Suspendisse in cursus est. In quis urna nec eros volutpat faucibus. Vivamus malesuada metus et erat vulputate semper.\"), __jsx(\"p\", null, \"Aliquam suscipit interdum nisl. Integer maximus erat non iaculis vulputate. Nulla lacus est, consequat a hendrerit at, posuere feugiat neque. Mauris lectus sem, malesuada id est quis, vehicula tempor magna. Mauris pharetra sed velit sed lobortis. Aliquam at risus euismod, convallis turpis vitae, cursus felis. Mauris commodo ex venenatis nisi imperdiet, eu iaculis libero commodo. Quisque scelerisque dolor eget placerat pharetra. Nulla iaculis quam tincidunt enim tempus malesuada.\")))), __jsx(Layout.Section, {\n    secondary: true\n  }, accionBotones)), __jsx(FooterHelp, null, \"Soy Fernando\", ' ', __jsx(Link, {\n    url: \"https://help.shopify.com/manual/orders/fulfill-orders\"\n  }, \"Castillo\")));\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/rafae/Desktop/Bootcamp/Front-Back/app_shopify/components/Home.js"],"names":["TextStyle","Page","Layout","EmptyState","FooterHelp","Link","Card","Stack","Button","Spinner","TitleBar","ResourcePicker","useState","useEffect","useRouter","img","Index","shop_is_loading","shop_exists","shop_status","getShopifyData","reviewVariants","open","setOpen","router","handleSelection","resources","payload","selection","forEach","product","id","product_id","title","product_title","images","vendor","variants","map","variant","variant_id","variant_title","weight","variant_weight","weightUnit","variant_unit","price","variant_price","product_image","length","originalSrc","undefined","variant_recommended_price","tax","status","console","log","accionBotones","push","content"],"mappings":"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","sourcesContent":["//import { TextStyle } from '@shopify/polaris'\r\nimport { TextStyle, Page, Layout, EmptyState, FooterHelp, Link, Card, Stack, Button, Spinner } from '@shopify/polaris'\r\nimport { TitleBar, ResourcePicker } from '@shopify/app-bridge-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter } from 'next/router'\r\n\r\nconst img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\r\n\r\nconst Index = ({ \r\n    shop_is_loading, \r\n    shop_exists, \r\n    shop_status, \r\n    getShopifyData ,\r\n    reviewVariants\r\n}) => {\r\n\r\n\r\n    //Se ejecuta 1 sola vez al montarse el componente\r\n    useEffect(()=>{\r\n\r\n        getShopifyData()\r\n\r\n    },[])\r\n\r\n\r\n    const [open, setOpen] = useState(false)\r\n    const router = useRouter()\r\n\r\n    const handleSelection = (resources)=>{\r\n        setOpen(false)\r\n\r\n        let payload=[]\r\n        resources.selection.forEach( product =>{\r\n\r\n            const {\r\n                id: product_id,\r\n                title: product_title,\r\n                images,\r\n                vendor\r\n            } = product\r\n\r\n            const variants = product.variants.map ( variant => {\r\n\r\n                const {\r\n                    id: variant_id,\r\n                    title: variant_title,\r\n                    weight: variant_weight,\r\n                    weightUnit: variant_unit,\r\n                    price: variant_price\r\n                } = variant\r\n\r\n\r\n                return {\r\n                    product_id,\r\n                    product_title,\r\n                    product_image: images.length>0 ? images[0].originalSrc : undefined,\r\n                    vendor,\r\n\r\n\r\n                    variant_id,\r\n                    variant_title,\r\n                    variant_weight,\r\n                    variant_unit,\r\n                    variant_price,\r\n                    variant_recommended_price: 0,\r\n                    tax: 0,\r\n                    status: 'Calculando'\r\n\r\n                }\r\n\r\n            })\r\n\r\n            payload = [...payload, ...variants]\r\n\r\n        })\r\n\r\n        console.log('payload',payload)\r\n\r\n        reviewVariants({ variants: payload })\r\n        console.log(resources)\r\n    }\r\n\r\n    let accionBotones = <Spinner accessibilityLabel=\"Spinner example\" size=\"large\" color=\"teal\" />\r\n\r\n    //if(!shopify_is_loading)\r\n    if(shop_is_loading===false){\r\n        accionBotones = (\r\n            <Card sectioned>\r\n                <Button fullWidth={true} /*url={'/registro'}*/ onClick={()=> router.push('/registro')} disabled={shop_exists===true} >Registro</Button>\r\n                <Button fullWidth={true} onClick={ () => setOpen(true)} disabled={shop_exists===false  || shop_status==='en_revision'} >Enviar productos a revisión</Button>\r\n            </Card>\r\n        )\r\n    }\r\n    \r\n    return (\r\n        <Page fullWidth>\r\n\r\n            <TitleBar\r\n                primaryAction={{\r\n                    content: 'Hola soy un primary ---'\r\n                }}\r\n\r\n                \r\n            />\r\n            <ResourcePicker\r\n                resourceType=\"Product\"\r\n                showVariants={false}\r\n                open={open}\r\n                onSelection={handleSelection}\r\n                onCancel={()=> setOpen(false)}\r\n            />\r\n            \r\n            <Layout>\r\n                <Layout.Section>\r\n                    <Card title=\"Home\" sectioned>\r\n                        <Stack>\r\n                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eleifend metus non vestibulum faucibus. Duis interdum vel arcu imperdiet tempus. Mauris nec suscipit nisi. Sed malesuada vehicula diam, sit amet ornare libero rutrum nec. Nam ultricies aliquet mi id mattis. Proin iaculis sem mi, id elementum felis facilisis id. Mauris semper, quam non hendrerit sollicitudin, diam diam lacinia ante, a elementum eros ipsum non nulla. Nullam et lacus in dui ultrices ullamcorper. Vivamus consequat tortor eu risus mattis, imperdiet iaculis arcu porta. Nulla neque velit, ullamcorper vel imperdiet non, volutpat a orci. Suspendisse purus dolor, vestibulum et orci eget, convallis tincidunt nisi. Suspendisse in cursus est. In quis urna nec eros volutpat faucibus. Vivamus malesuada metus et erat vulputate semper.</p>\r\n\r\n                            <p>Aliquam suscipit interdum nisl. Integer maximus erat non iaculis vulputate. Nulla lacus est, consequat a hendrerit at, posuere feugiat neque. Mauris lectus sem, malesuada id est quis, vehicula tempor magna. Mauris pharetra sed velit sed lobortis. Aliquam at risus euismod, convallis turpis vitae, cursus felis. Mauris commodo ex venenatis nisi imperdiet, eu iaculis libero commodo. Quisque scelerisque dolor eget placerat pharetra. Nulla iaculis quam tincidunt enim tempus malesuada.</p>\r\n                        </Stack>                        \r\n                    </Card>\r\n                </Layout.Section>\r\n                <Layout.Section secondary>\r\n                    {accionBotones}\r\n                </Layout.Section>\r\n            </Layout>    \r\n\r\n            <FooterHelp>\r\n                Soy Fernando{' '}\r\n                <Link url=\"https://help.shopify.com/manual/orders/fulfill-orders\">\r\n                    Castillo\r\n                </Link>\r\n            </FooterHelp>\r\n        </Page>    \r\n    )\r\n}\r\n\r\n\r\nexport default Index"]},"metadata":{},"sourceType":"module"}