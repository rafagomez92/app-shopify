{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n//import { TextStyle } from '@shopify/polaris'\nimport { TextStyle, Page, Layout, EmptyState, FooterHelp, Link, Card, Stack, Button, Spinner } from '@shopify/polaris';\nimport { TitleBar, ResourcePicker } from '@shopify/app-bridge-react';\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nvar img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\n\nvar Index = function Index(_ref) {\n  var shop_is_loading = _ref.shop_is_loading,\n      shop_exists = _ref.shop_exists,\n      shop_status = _ref.shop_status,\n      getShopifyData = _ref.getShopifyData,\n      reviewVariants = _ref.reviewVariants;\n  //Se ejecuta 1 sola vez al montarse el componente\n  useEffect(function () {\n    getShopifyData();\n  }, []);\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var router = useRouter();\n\n  var handleSelection = function handleSelection(resources) {\n    setOpen(false);\n    var payload = [];\n    resources.selection.forEach(function (product) {\n      var product_id = product.id,\n          product_title = product.title,\n          images = product.images,\n          vendor = product.vendor;\n      var variants = product.variants.map(function (variant) {\n        var variant_id = variant.id,\n            variant_title = variant.title,\n            variant_weight = variant.weight,\n            variant_unit = variant.weightUnit,\n            variant_price = variant.price;\n        return {\n          product_id: product_id,\n          product_title: product_title,\n          product_image: images.length > 0 ? images[0].original.Src : undefined,\n          vendor: vendor,\n          variant_id: variant_id,\n          variant_title: variant_title,\n          variant_weight: variant_weight,\n          variant_unit: variant_unit,\n          variant_price: variant_price,\n          variant_recommend_price: 0,\n          tax: 0,\n          status: 'Calculando'\n        };\n      });\n    });\n    reviewVariants();\n    console.log(resources);\n  };\n\n  var accionBotones = __jsx(Spinner, {\n    accessibilityLabel: \"Spinner example\",\n    size: \"large\",\n    color: \"teal\"\n  }); //if(!shopify_is_loading)\n\n\n  if (shop_is_loading === false) {\n    accionBotones = __jsx(Card, {\n      sectioned: true\n    }, __jsx(Button, {\n      fullWidth: true\n      /*url={'/registro'}*/\n      ,\n      onClick: function onClick() {\n        return router.push('/registro');\n      },\n      disabled: shop_exists === true\n    }, \"Registro\"), __jsx(Button, {\n      fullWidth: true,\n      onClick: function onClick() {\n        return setOpen(true);\n      },\n      disabled: shop_exists === false\n    }, \"Enviar productos a revisi\\xF3n\"));\n  }\n\n  return __jsx(Page, {\n    fullWidth: true\n  }, __jsx(TitleBar, {\n    primaryAction: {\n      content: 'Hola soy un primary ---'\n    }\n  }), __jsx(ResourcePicker, {\n    resourceType: \"Product\",\n    showVariants: false,\n    open: open,\n    onSelection: handleSelection,\n    onCancel: function onCancel() {\n      return setOpen(false);\n    }\n  }), __jsx(Layout, null, __jsx(Layout.Section, null, __jsx(Card, {\n    title: \"Home\",\n    sectioned: true\n  }, __jsx(Stack, null, __jsx(\"p\", null, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eleifend metus non vestibulum faucibus. Duis interdum vel arcu imperdiet tempus. Mauris nec suscipit nisi. Sed malesuada vehicula diam, sit amet ornare libero rutrum nec. Nam ultricies aliquet mi id mattis. Proin iaculis sem mi, id elementum felis facilisis id. Mauris semper, quam non hendrerit sollicitudin, diam diam lacinia ante, a elementum eros ipsum non nulla. Nullam et lacus in dui ultrices ullamcorper. Vivamus consequat tortor eu risus mattis, imperdiet iaculis arcu porta. Nulla neque velit, ullamcorper vel imperdiet non, volutpat a orci. Suspendisse purus dolor, vestibulum et orci eget, convallis tincidunt nisi. Suspendisse in cursus est. In quis urna nec eros volutpat faucibus. Vivamus malesuada metus et erat vulputate semper.\"), __jsx(\"p\", null, \"Aliquam suscipit interdum nisl. Integer maximus erat non iaculis vulputate. Nulla lacus est, consequat a hendrerit at, posuere feugiat neque. Mauris lectus sem, malesuada id est quis, vehicula tempor magna. Mauris pharetra sed velit sed lobortis. Aliquam at risus euismod, convallis turpis vitae, cursus felis. Mauris commodo ex venenatis nisi imperdiet, eu iaculis libero commodo. Quisque scelerisque dolor eget placerat pharetra. Nulla iaculis quam tincidunt enim tempus malesuada.\")))), __jsx(Layout.Section, {\n    secondary: true\n  }, accionBotones)), __jsx(FooterHelp, null, \"Soy Marcos\", ' ', __jsx(Link, {\n    url: \"https://help.shopify.com/manual/orders/fulfill-orders\"\n  }, \"G\\xF3mez\")));\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/rafae/Desktop/Bootcamp/Front-Back/app_shopify/components/Home.js"],"names":["TextStyle","Page","Layout","EmptyState","FooterHelp","Link","Card","Stack","Button","Spinner","TitleBar","ResourcePicker","useState","useEffect","useRouter","img","Index","shop_is_loading","shop_exists","shop_status","getShopifyData","reviewVariants","open","setOpen","router","handleSelection","resources","payload","selection","forEach","product","product_id","id","product_title","title","images","vendor","variants","map","variant","variant_id","variant_title","variant_weight","weight","variant_unit","weightUnit","variant_price","price","product_image","length","original","Src","undefined","variant_recommend_price","tax","status","console","log","accionBotones","push","content"],"mappings":"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","sourcesContent":["//import { TextStyle } from '@shopify/polaris'\r\nimport { TextStyle, Page, Layout, EmptyState, FooterHelp, Link, Card, Stack, Button, Spinner } from '@shopify/polaris'\r\nimport { TitleBar, ResourcePicker } from '@shopify/app-bridge-react'\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter } from 'next/router'\r\n\r\nconst img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\r\n\r\nconst Index = ({ \r\n    shop_is_loading, \r\n    shop_exists, \r\n    shop_status, \r\n    getShopifyData, \r\n    reviewVariants\r\n}) => {\r\n\r\n\r\n    //Se ejecuta 1 sola vez al montarse el componente\r\n    useEffect(()=>{\r\n\r\n        getShopifyData()\r\n\r\n    },[])\r\n\r\n\r\n    const [open, setOpen] = useState(false)\r\n    const router = useRouter()\r\n\r\n    const handleSelection = (resources)=>{\r\n        setOpen(false)\r\n\r\n        let payload=[]\r\n        resources.selection.forEach( product => {\r\n            const {\r\n                id: product_id,\r\n                title: product_title,\r\n                images,\r\n                vendor\r\n            } = product\r\n\r\n            const variants = product.variants.map ( variant => {\r\n                const {\r\n                    id: variant_id,\r\n                    title: variant_title,\r\n                    weight: variant_weight,\r\n                    weightUnit: variant_unit,\r\n                    price: variant_price\r\n                } = variant\r\n                return {\r\n                    product_id,\r\n                    product_title,\r\n                    product_image: images.length > 0 ? images[0].original.Src : undefined,\r\n                    vendor,\r\n\r\n                    variant_id,\r\n                    variant_title,\r\n                    variant_weight,\r\n                    variant_unit,\r\n                    variant_price,\r\n                    variant_recommend_price: 0,\r\n                    tax: 0,\r\n                    status: 'Calculando'\r\n\r\n                }\r\n            })\r\n        })\r\n\r\n\r\n\r\n        reviewVariants()\r\n        console.log(resources)        \r\n    }\r\n\r\n    let accionBotones = <Spinner accessibilityLabel=\"Spinner example\" size=\"large\" color=\"teal\" />\r\n\r\n    //if(!shopify_is_loading)\r\n    if(shop_is_loading===false){\r\n        accionBotones = (\r\n            <Card sectioned>\r\n                <Button fullWidth={true} /*url={'/registro'}*/ onClick={()=> router.push('/registro')} disabled={shop_exists===true} >Registro</Button>\r\n                <Button fullWidth={true} onClick={ () => setOpen(true)} disabled={shop_exists===false} >Enviar productos a revisión</Button>\r\n            </Card>\r\n        )\r\n    }\r\n    \r\n    return (\r\n        <Page fullWidth>\r\n\r\n            <TitleBar\r\n                primaryAction={{\r\n                    content: 'Hola soy un primary ---'\r\n                }}\r\n\r\n                \r\n            />\r\n            <ResourcePicker\r\n                resourceType=\"Product\"\r\n                showVariants={false}\r\n                open={open}\r\n                onSelection={handleSelection}\r\n                onCancel={()=> setOpen(false)}\r\n            />\r\n            \r\n            <Layout>\r\n                <Layout.Section>\r\n                    <Card title=\"Home\" sectioned>\r\n                        <Stack>\r\n                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eleifend metus non vestibulum faucibus. Duis interdum vel arcu imperdiet tempus. Mauris nec suscipit nisi. Sed malesuada vehicula diam, sit amet ornare libero rutrum nec. Nam ultricies aliquet mi id mattis. Proin iaculis sem mi, id elementum felis facilisis id. Mauris semper, quam non hendrerit sollicitudin, diam diam lacinia ante, a elementum eros ipsum non nulla. Nullam et lacus in dui ultrices ullamcorper. Vivamus consequat tortor eu risus mattis, imperdiet iaculis arcu porta. Nulla neque velit, ullamcorper vel imperdiet non, volutpat a orci. Suspendisse purus dolor, vestibulum et orci eget, convallis tincidunt nisi. Suspendisse in cursus est. In quis urna nec eros volutpat faucibus. Vivamus malesuada metus et erat vulputate semper.</p>\r\n\r\n                            <p>Aliquam suscipit interdum nisl. Integer maximus erat non iaculis vulputate. Nulla lacus est, consequat a hendrerit at, posuere feugiat neque. Mauris lectus sem, malesuada id est quis, vehicula tempor magna. Mauris pharetra sed velit sed lobortis. Aliquam at risus euismod, convallis turpis vitae, cursus felis. Mauris commodo ex venenatis nisi imperdiet, eu iaculis libero commodo. Quisque scelerisque dolor eget placerat pharetra. Nulla iaculis quam tincidunt enim tempus malesuada.</p>\r\n                        </Stack>                        \r\n                    </Card>\r\n                </Layout.Section>\r\n                <Layout.Section secondary>\r\n                    {accionBotones}\r\n                </Layout.Section>\r\n            </Layout>    \r\n\r\n            <FooterHelp>\r\n                Soy Marcos{' '}\r\n                <Link url=\"https://help.shopify.com/manual/orders/fulfill-orders\">\r\n                    Gómez\r\n                </Link>\r\n            </FooterHelp>\r\n        </Page>    \r\n    )\r\n}\r\n\r\n\r\nexport default Index"]},"metadata":{},"sourceType":"module"}