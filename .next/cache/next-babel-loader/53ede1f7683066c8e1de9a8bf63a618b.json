{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Page, Layout, Card, Button, Stack, FooterHelp, Link, Spinner } from '@shopify/polaris';\nimport { TitleBar, ResourcePicker } from '@shopify/app-bridge-react';\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router'; //import axios from 'axios'\n\nconst img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\n\nconst Index = ({\n  shop_is_loading,\n  shop_exists,\n  shop_status,\n  getShopifyData,\n  reviewVariants\n}) => {\n  + //llamada a api interna para encontrar id\n  useEffect(() => {\n    getShopifyData();\n  }, []);\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n  const router = useRouter();\n\n  const handleSelection = resource => {\n    setOpen(false);\n    let payload = [];\n    resource.selection.forEach(product => {\n      const {\n        id: product_id,\n        title: product_title,\n        images,\n        vendor\n      } = product;\n      const variants = product.variants.map(variant => {\n        const {\n          id: variant_id,\n          title: variant_title,\n          weight: variant_weight,\n          weightUnit: variant_unit,\n          price: variant_price\n        } = variant;\n        return {\n          product_id,\n          product_title,\n          product_image: images.length > 0 ? images[0].originalSrc : undefined,\n          vendor,\n          variant_id,\n          variant_title,\n          variant_weight,\n          variant_unit,\n          variant_price,\n          variant_recommended_price: 0,\n          tax: 0,\n          status: 'Calculando'\n        };\n      });\n      payload = [...payload, ...variants];\n    });\n    console.log('payload', payload);\n    reviewVariants({\n      variants: payload\n    });\n    console.log(resource);\n  };\n\n  let msg = \"Por favor registrate en la pagina\";\n\n  if (shop_exists) {\n    msg = \"Por favor seleciona tus productos para revision\";\n  }\n\n  let accionBotones = __jsx(Spinner, {\n    accessibilityLabel: \"Spinner example\",\n    size: \"large\",\n    color: \"teal\"\n  });\n\n  if (shop_is_loading === false) {\n    accionBotones = __jsx(Card, {\n      title: msg\n    }, __jsx(Card.Section, null, __jsx(Button, {\n      fullWidth: true,\n      primary: true,\n      disabled: shop_exists,\n      onClick: () => router.push('/registro')\n    }, \"Registro\")), __jsx(Card.Section, null, __jsx(Button, {\n      fullWidth: true,\n      primary: true,\n      disabled: shop_exists === false || shop_status === 'en_revision',\n      onClick: () => setOpen(true)\n    }, \"Enviar productos a revision\")), __jsx(Card.Section, null, __jsx(\"p\", null, \"La revision de los productos\", __jsx(\"br\", null), \"puede tomar de 24 a 48 horas\")));\n  }\n\n  console.log('hola', shop_is_loading);\n  return __jsx(Page, {\n    fullWidth: true\n  }, __jsx(TitleBar, {\n    primaryAction: {\n      content: 'Hola cambie * 2'\n    }\n  }), __jsx(ResourcePicker, {\n    resourceType: \"Product\",\n    showVariants: false,\n    open: open,\n    onSelection: handleSelection,\n    onCancel: () => setOpen(false)\n  }), __jsx(Layout, null, __jsx(Layout.Section, null, __jsx(Card, {\n    title: \"Bienvenido al Home\",\n    sectioned: true\n  }, __jsx(Stack, null, __jsx(\"p\", null, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"), __jsx(\"p\", null, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\")))), __jsx(Layout.Section, {\n    secondary: true\n  }, accionBotones)), __jsx(FooterHelp, null, \"Soy Angel\", ' ', __jsx(Link, {\n    url: \"https://help.shopify.com/manual/orders/fulfill-orders\"\n  }, \"fulfilling orders\")));\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/rafae/Desktop/Bootcamp/Front-Back/app_shopify/components/Home.js"],"names":["Page","Layout","Card","Button","Stack","FooterHelp","Link","Spinner","TitleBar","ResourcePicker","useState","useEffect","useRouter","img","Index","shop_is_loading","shop_exists","shop_status","getShopifyData","reviewVariants","open","setOpen","router","handleSelection","resource","payload","selection","forEach","product","id","product_id","title","product_title","images","vendor","variants","map","variant","variant_id","variant_title","weight","variant_weight","weightUnit","variant_unit","price","variant_price","product_image","length","originalSrc","undefined","variant_recommended_price","tax","status","console","log","msg","accionBotones","push","content"],"mappings":"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","sourcesContent":["import { \r\n    Page,\r\n    Layout,\r\n    Card,\r\n    Button,\r\n    Stack,\r\n    FooterHelp,\r\n    Link,\r\n    Spinner\r\n  } from '@shopify/polaris'\r\n  \r\n  import {TitleBar, ResourcePicker } from '@shopify/app-bridge-react'\r\n  \r\n  import {useState, useEffect} from 'react'\r\n  \r\n  import { useRouter} from 'next/router'\r\n  \r\n  //import axios from 'axios'\r\n  \r\n  const img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg'\r\n  \r\n  const Index = ({\r\n      shop_is_loading,\r\n      shop_exists,\r\n      shop_status,\r\n      getShopifyData,\r\n      reviewVariants\r\n    }) => {\r\n  +\r\n    \r\n  \r\n    //llamada a api interna para encontrar id\r\n    useEffect(() => {\r\n  \r\n      getShopifyData()\r\n  \r\n    },[])\r\n  \r\n    const [ open, setOpen ] = useState(false)\r\n  \r\n    const router = useRouter()\r\n  \r\n    const handleSelection = (resource) => {\r\n      setOpen(false)\r\n  \r\n      let payload=[]\r\n      resource.selection.forEach( product => {\r\n        const {\r\n  \r\n          id: product_id,\r\n          title: product_title,\r\n          images,\r\n          vendor\r\n  \r\n        } = product\r\n  \r\n        const variants = product.variants.map( variant => {\r\n          const {\r\n            id: variant_id,\r\n            title: variant_title,\r\n            weight: variant_weight,\r\n            weightUnit: variant_unit,\r\n            price: variant_price\r\n          } = variant\r\n  \r\n          return{\r\n            product_id,\r\n            product_title,\r\n            product_image: images.length > 0 ? images[0].originalSrc: undefined,\r\n            vendor,\r\n  \r\n            variant_id,\r\n            variant_title,\r\n            variant_weight,\r\n            variant_unit,\r\n            variant_price,\r\n            variant_recommended_price: 0,\r\n            tax:0,\r\n            status: 'Calculando'\r\n          }\r\n        })\r\n  \r\n        payload=[...payload, ...variants]\r\n      })\r\n      console.log('payload', payload)\r\n      reviewVariants({variants: payload})\r\n      console.log(resource)\r\n    }\r\n    let msg = \"Por favor registrate en la pagina\"\r\n    if(shop_exists){\r\n      msg=\"Por favor seleciona tus productos para revision\"\r\n    }\r\n  \r\n    let accionBotones = <Spinner accessibilityLabel=\"Spinner example\" size=\"large\" color=\"teal\" />\r\n  \r\n    if(shop_is_loading===false){\r\n      accionBotones = (\r\n        <Card title={msg}>\r\n          <Card.Section>\r\n            <Button fullWidth primary\r\n            disabled={shop_exists}\r\n              onClick={()=> router.push('/registro')}\r\n            >\r\n              Registro\r\n            </Button>\r\n          </Card.Section>\r\n          <Card.Section>\r\n            <Button fullWidth primary\r\n              disabled={shop_exists===false  || shop_status==='en_revision'}\r\n              onClick={()=> setOpen(true) }\r\n            >\r\n              Enviar productos a revision\r\n            </Button>\r\n          </Card.Section>\r\n          <Card.Section>\r\n            <p>La revision de los productos<br></br>\r\n            puede tomar de 24 a 48 horas</p>\r\n          </Card.Section>\r\n        </Card>\r\n      )\r\n    }\r\n    console.log('hola',shop_is_loading)\r\n    \r\n    \r\n    return(\r\n    <Page fullWidth>\r\n      <TitleBar\r\n        primaryAction={{\r\n          content: 'Hola cambie * 2'\r\n        }}\r\n      />\r\n  \r\n      <ResourcePicker\r\n        resourceType='Product'\r\n        showVariants={false}\r\n        open={open}\r\n        onSelection={handleSelection}\r\n        onCancel={() => setOpen(false)}\r\n      />\r\n      <Layout>\r\n        <Layout.Section>\r\n          <Card title=\"Bienvenido al Home\" sectioned>\r\n            <Stack>\r\n              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, \r\n              sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\r\n              Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris \r\n              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in \r\n              reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla \r\n              pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa\r\n              qui officia deserunt mollit anim id est laborum.\r\n              </p>\r\n              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, \r\n              sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\r\n              Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris \r\n              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in \r\n              reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla \r\n              pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa\r\n              qui officia deserunt mollit anim id est laborum.\r\n              </p>\r\n            </Stack>\r\n          </Card>\r\n        </Layout.Section>\r\n        <Layout.Section secondary>\r\n            {accionBotones}\r\n        </Layout.Section>\r\n      </Layout>\r\n      <FooterHelp>\r\n        Soy Angel{' '}\r\n        <Link url=\"https://help.shopify.com/manual/orders/fulfill-orders\">\r\n          fulfilling orders\r\n        </Link>\r\n      </FooterHelp>\r\n    </Page>\r\n    )\r\n  }\r\n  \r\n  export default Index"]},"metadata":{},"sourceType":"module"}